{
	"info": {
		"_postman_id": "604adb93-c71f-4350-9853-f2ef19079417",
		"name": "LIKES",
		"description": "Only on fresh db",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json",
		"_exporter_id": "31845364"
	},
	"item": [
		{
			"name": "rate",
			"item": [
				{
					"name": "New User (Restatrt server first)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"name\":\"T1 Harvey Mante\",\"email\":\"T1Ismael.Hodkiewicz62@hotmail.com\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "http://localhost:8080/admin/users"
					},
					"response": []
				},
				{
					"name": "New User 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"name\":\"T2 Harvey Mante\",\"email\":\"T2Ismael.Hodkiewicz62@hotmail.com\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "http://localhost:8080/admin/users"
					},
					"response": []
				},
				{
					"name": "New User 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"name\":\"T3 Harvey Mante\",\"email\":\"T3Ismael.Hodkiewicz62@hotmail.com\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "http://localhost:8080/admin/users"
					},
					"response": []
				},
				{
					"name": "New Category",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"name\":\"T1 Borders775\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "http://localhost:8080/admin/categories"
					},
					"response": []
				},
				{
					"name": "New Event",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"annotation\":\"Tst-01 - annotation: размер должен находиться в диапазоне от 20 до 2000\",\"category\":121,\"description\":\"Tst-01 - description: размер должен находиться в диапазоне от 20 до 7000\",\"eventDate\":\"2025-06-07 02:27:55\",\"location\":{\"lat\":75.6193,\"lon\":-35.3596},\"paid\":\"true\",\"participantLimit\":1,\"requestModeration\":true,\"title\":\"Tst-01\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "http://localhost:8080/users/136/events"
					},
					"response": []
				},
				{
					"name": "New Event 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"annotation\":\"Tst-02 - annotation: размер должен находиться в диапазоне от 20 до 2000\",\"category\":121,\"description\":\"Tst-02 - description: размер должен находиться в диапазоне от 20 до 7000\",\"eventDate\":\"2025-06-07 02:27:55\",\"location\":{\"lat\":75.6193,\"lon\":-35.3596},\"paid\":\"true\",\"participantLimit\":1,\"requestModeration\":true,\"title\":\"Tst-02\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "http://localhost:8080/users/136/events"
					},
					"response": []
				},
				{
					"name": "Set like to event 2 not published (err)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 404\", function () {\r",
									"    pm.response.to.have.status(404);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/events/104/like?userId=137&isLike=true",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"events",
								"104",
								"like"
							],
							"query": [
								{
									"key": "userId",
									"value": "137"
								},
								{
									"key": "isLike",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "New Publish",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"stateAction\":\"PUBLISH_EVENT\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "http://localhost:8080/admin/events/104"
					},
					"response": []
				},
				{
					"name": "Set like to event 1 from user 1 err",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 409\", function () {\r",
									"    pm.response.to.have.status(409);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/events/104/like?userId=136&isLike=true",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"events",
								"104",
								"like"
							],
							"query": [
								{
									"key": "userId",
									"value": "136"
								},
								{
									"key": "isLike",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Set like to event 1 form user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/events/104/like?userId=137&isLike=true",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"events",
								"104",
								"like"
							],
							"query": [
								{
									"key": "userId",
									"value": "137"
								},
								{
									"key": "isLike",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Set like to event 1 form user 2 twice err",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 409\", function () {\r",
									"    pm.response.to.have.status(409);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/events/104/like?userId=137&isLike=true",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"events",
								"104",
								"like"
							],
							"query": [
								{
									"key": "userId",
									"value": "137"
								},
								{
									"key": "isLike",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "New Publish 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"stateAction\":\"PUBLISH_EVENT\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "http://localhost:8080/admin/events/105"
					},
					"response": []
				},
				{
					"name": "Get Rated 1 on top",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/events?rangeStart=2022-01-06%2013%3A30%3A38&rangeEnd=2097-09-06%2013%3A30%3A38&onlyAvailable=false&sort=RATING&from=0&size=1000",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"events"
							],
							"query": [
								{
									"key": "rangeStart",
									"value": "2022-01-06%2013%3A30%3A38"
								},
								{
									"key": "rangeEnd",
									"value": "2097-09-06%2013%3A30%3A38"
								},
								{
									"key": "onlyAvailable",
									"value": "false"
								},
								{
									"key": "sort",
									"value": "RATING"
								},
								{
									"key": "from",
									"value": "0"
								},
								{
									"key": "size",
									"value": "1000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Set like to event 2 user 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/events/105/like?userId=138&isLike=true",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"events",
								"105",
								"like"
							],
							"query": [
								{
									"key": "userId",
									"value": "138"
								},
								{
									"key": "isLike",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Set like to event 2 user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/events/104/like?userId=138&isLike=true",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"events",
								"104",
								"like"
							],
							"query": [
								{
									"key": "userId",
									"value": "138"
								},
								{
									"key": "isLike",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Rated new rate 2 on top",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/events?rangeStart=2022-01-06%2013%3A30%3A38&rangeEnd=2097-09-06%2013%3A30%3A38&onlyAvailable=false&sort=RATING&from=0&size=1000",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"events"
							],
							"query": [
								{
									"key": "rangeStart",
									"value": "2022-01-06%2013%3A30%3A38"
								},
								{
									"key": "rangeEnd",
									"value": "2097-09-06%2013%3A30%3A38"
								},
								{
									"key": "onlyAvailable",
									"value": "false"
								},
								{
									"key": "sort",
									"value": "RATING"
								},
								{
									"key": "from",
									"value": "0"
								},
								{
									"key": "size",
									"value": "1000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Set dislike to event 1 Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/events/105/like?userId=138&isLike=false",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"events",
								"105",
								"like"
							],
							"query": [
								{
									"key": "userId",
									"value": "138"
								},
								{
									"key": "isLike",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Rated new rate 2 on top, 1 - disliked",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/events?rangeStart=2022-01-06%2013%3A30%3A38&rangeEnd=2097-09-06%2013%3A30%3A38&onlyAvailable=false&sort=RATING&from=0&size=1000",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"events"
							],
							"query": [
								{
									"key": "rangeStart",
									"value": "2022-01-06%2013%3A30%3A38"
								},
								{
									"key": "rangeEnd",
									"value": "2097-09-06%2013%3A30%3A38"
								},
								{
									"key": "onlyAvailable",
									"value": "false"
								},
								{
									"key": "sort",
									"value": "RATING"
								},
								{
									"key": "from",
									"value": "0"
								},
								{
									"key": "size",
									"value": "1000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Top chart",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": "http://localhost:8080/events/top"
					},
					"response": []
				},
				{
					"name": "Get Top chart 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/events/top?from=0&size=1000",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"events",
								"top"
							],
							"query": [
								{
									"key": "from",
									"value": "0"
								},
								{
									"key": "size",
									"value": "1000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Top chart 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/events/top?onlyAvailable=false&onlyFuture=false&from=0&size=1000",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"events",
								"top"
							],
							"query": [
								{
									"key": "onlyAvailable",
									"value": "false"
								},
								{
									"key": "onlyFuture",
									"value": "false"
								},
								{
									"key": "from",
									"value": "0"
								},
								{
									"key": "size",
									"value": "1000"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	]
}